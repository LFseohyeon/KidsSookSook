<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member">
	<select id="selectAll" resultType="memberVO" parameterType="map">
		select m.user_id, member_name, member_nickname, member_gender, user_identification, 
		user_password, user_email, user_phoneNumber, user_address, user_register_date
		from view_member_info
		<!-- 검색 조건 동적쿼리로 추가 -->
       <if test="memberPhoneNumber != null">
          and member_phoneNumber = #{memberPhoneNumber}
       </if> 
       <if test="memberGender != null and memberGender != ''">
          and member_gender = #{memberGender}
       </if>
       limit #{startRow}, #{rowCount}
	</select>
	
	<select id="getTotal" resultType="long">
		select count(user_id) from tbl_member 
	</select>
</mapper>